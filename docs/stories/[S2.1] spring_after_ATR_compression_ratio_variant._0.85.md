

WINDSURF STORY — Retest spring_after_ATR_compression_ratio with Threshold 0.85

CRITICAL SAFETY RULES (NON-NEGOTIABLE)
	1.	Do NOT modify baseline logic
	•	No changes under baseline/
	2.	Do NOT change output schema
	•	Events remain: symbol, date, event, score, detector
	3.	Change ONE thing only
	•	The ATR compression threshold
	4.	No refactors, no cleanups, no optimizations

This is a pure parameter retest.

⸻

Objective

Retest the existing variant:

spring_after_ATR_compression_ratio

by relaxing the volatility-compression threshold from 0.75 → 0.85 to assess whether signal density and win-rate recover while preserving expectancy.

⸻

Step 1 — Update the Threshold (Single-Line Change)

File

wyckoff_fast_bench/spring_after_ATR_compression_ratio/detector.py

Locate the compression condition

It will look like one of the following:

if atr_fast / atr_slow <= 0.75:

or

ATR_COMPRESSION_THRESHOLD = 0.75

Replace only the numeric value:

0.75  →  0.85

No other logic changes.

⸻

Step 2 — (Optional but Recommended) Add an Inline Comment

Add a single comment so the experiment is self-documenting:

# Retest v2: relaxed ATR compression threshold (0.85)

No renaming, no versioning logic yet.

⸻

Step 3 — Run the Variant

YAML configuration

To isolate results:

detectors:
  - spring_after_ATR_compression_ratio

or to compare:

detectors:
  - baseline
  - spring_after_ATR_compression_ratio

Keep:

workers: 8


⸻

Step 4 — Evaluate (Required Metrics)

When the run completes, compare SPRING rows:
	•	Density (expect ↑ 2–3× vs 0.75)
	•	Median forward 20-day return (must remain ≈ baseline)
	•	Win rate (expect recovery toward ≥68%)
	•	p5 forward return (expect improvement vs −0.18)
	•	Stability (should remain elevated)

⸻

Acceptance Criteria

This retest is a success if:
	•	Median return remains ≥ baseline SPRING
	•	Win rate ≥ 65%
	•	Density recovers meaningfully (>1.5%)
	•	Stability remains materially higher than baseline

If met → proceed to soft scoring.
If not → try 0.90 or move to band-width weighting.

⸻

Explicitly Out of Scope
	•	Soft scoring
	•	Additional filters
	•	YAML parameterization
	•	Refactors or abstractions

⸻
